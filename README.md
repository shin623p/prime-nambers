# prime-numbers

エラトステネスの篩をいろんな言語で実装し、速度を計測する。
素直に、[エラトステネスの篩](https://ja.wikipedia.org/wiki/%E3%82%A8%E3%83%A9%E3%83%88%E3%82%B9%E3%83%86%E3%83%8D%E3%82%B9%E3%81%AE%E7%AF%A9) を使う。(画像は Wikipedia より) ![画像](https://upload.wikimedia.org/wikipedia/commons/6/63/Animation_Sieb_des_Eratosthenes.gif) 

### 処理概要

1. 標準入力から数値を一つ受け取る。(2 <= N <= 1,000,000,000)
2. N 以下の素数の一覧を作る。
3. N 以下の素数の数と最大の素数を出力して終了する。

### 入出力の例

- input

```
10000000
```

- output

```
664579 9999991
```

### 素数の数と最大値のサンプル

|             N |   素数の数 |  最大の素数 |
|--------------:|-----------:|------------:|
|            10 |          4 |           7 |
|           100 |         25 |          97 |
|         1,000 |        168 |         997 |
|        10,000 |      1,229 |       9,973 |
|       100,000 |      9,592 |      99,991 |
|     1,000,000 |     78,498 |     999,983 |
|    10,000,000 |    664,579 |   9,999,991 |
|   100,000,000 |  5,761,455 |  99,999,989 |
| 1,000,000,000 | 50,847,534 | 999,999,937 |


## 計測結果

### 環境

- MacBook Air (13-inch, Early 2015)
- CPU: 1.6 GHz Intel Core i5
- 8 GB 1600 MHz DDR3

### 結果

単位は秒。

| 言語              |     1,000 | 10,000 | 100,000 | 1,000,000 | 10,000,000 | 100,000,000 | 1,000,000,000 |
|:-----------------:|----------:|-------:|--------:|----------:|-----------:|------------:|--------------:|
| C                 |      0.01 |   0.00 |    0.02 |      0.01 |       0.16 |        1.45 |         15.87 |
| Common Lisp       |      0.19 |   0.19 |    0.18 |      0.20 |       0.28 |        1.46 |    --.-- [^1] |
| Common Lisp(REPR) |      0.00 |   0.00 |    0.00 |      0.01 |       0.10 |        1.04 |    18.14 [^2] |
| Nim               |      0.00 |   0.00 |    0.02 |      0.03 |       0.31 |        3.38 |         37.60 |
| Java              | 0.18 [^3] |   0.18 |    0.21 |      0.20 |       0.29 |        2.41 |    42.62 [^4] |
| Python            |      0.05 |   0.05 |    0.09 |      0.52 |       4.48 |       59.01 |    --.-- [^5] |
| Ruby              |      0.09 |   0.10 |    0.11 |      0.47 |       3.91 |       44.06 |    --.-- [^6] |



[^1]: ヒープが足りない (デフォは 1024MB 程度)。 実行時のオプションで増やす方法がわからず。
[^2]: ヒープサイズを 2048MB にして実行。
[^3]: 妙に遅い (一秒以上かかる) ときがある。 JVM の立ち上げコスト？
[^4]: ヒープサイズを 4096MB に拡張して実行。
[^5]: おわらん
[^6]: おわらん
